<template>
  <div>๋ก๊ทธ์ธ ํ์ธ ์ค ...</div>
</template>

<script setup>
import { useAuthStore } from '@/stores/useAuthStore'

const auth = useAuthStore()

onMounted(async () => {
  console.log('๐ข /confirm ํ์ด์ง์์ ์ธ์ ํ์ธ ์ค...')
  await auth.fetchUser()
  
  // โ ์ธ์์ด ์ค์๋ ํ ํ์ผ๋ก ์ด๋
  if (auth.user) {
    console.log('โ ์์ ํ์ธ๋จ, ํ์ผ๋ก ์ด๋')
    navigateTo('/')
  } else {
    console.warn('โ ์์๊ฐ ์์, ๋ค์ ๋ก๊ทธ์ธ ํ์')
    navigateTo('/login')
  }
})
</script>